<div class="register-page">
  <h2>Registro de Usuario</h2>

  <!-- Mensaje del servidor -->
  <div *ngIf="serverMessage" class="server-message">
    {{ serverMessage }}
  </div>

  <!-- Paso 1: Registro -->
  <form *ngIf="!verificationStep" (ngSubmit)="register()">
    <div>
      <label for="username">Nombre de Usuario</label>
      <input
        id="username"
        type="text"
        [(ngModel)]="username"
        name="username"
        placeholder="Ingresa tu nombre de usuario"
        required
      />
    </div>

    <div>
      <label for="email">Correo Electrónico</label>
      <input
        id="email"
        type="email"
        [(ngModel)]="email"
        name="email"
        placeholder="Ingresa tu correo"
        required
      />
    </div>

    <div>
      <label for="password">Contraseña</label>
      <input
        id="password"
        type="password"
        [(ngModel)]="password"
        name="password"
        placeholder="Crea una contraseña"
        required
      />
    </div>

    <button type="submit" [disabled]="loading">
      {{ loading ? 'Enviando...' : 'Registrarse' }}
    </button>
  </form>

  <!-- Paso 2: Verificación -->
  <div *ngIf="verificationStep">
    <h3>Verificación</h3>
    <p>Por favor, ingresa el código enviado a {{ email }}.</p>
    <input
      type="text"
      [(ngModel)]="verificationCode"
      placeholder="Código de verificación"
    />
    <button (click)="verifyCode()" [disabled]="loading">
      {{ loading ? 'Verificando...' : 'Verificar Código' }}
    </button>
  </div>
</div>
